<mvc:View controllerName="tax.provisioning.computations.controller.TaxPayments"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns="sap.m"
    xmlns:uxap="sap.uxap"
    xmlns:ui="sap.ui.table"
    xmlns:semantic="sap.f.semantic"
    xmlns:layout="sap.ui.layout"
    xmlns:core="sap.ui.core"
    xmlns:form="sap.ui.layout.form"
    xmlns:smartForm="sap.ui.comp.smartform"
    xmlns:smartField="sap.ui.comp.smartfield"
    xmlns:u="sap.ui.unified"
    xmlns:tnt="sap.tnt">

    <uxap:ObjectPageLayout id="ObjectPageLayout" upperCaseAnchorBar="false" preserveHeaderStateOnScroll="false">
        <uxap:headerTitle >
            <uxap:ObjectPageDynamicHeaderTitle >
                <uxap:heading >
                    <layout:VerticalLayout class="sapUiMediumMarginEnd">
                        <layout:HorizontalLayout class="sapUiSmallMarginTop" allowWrapping="true">
                            <layout:VerticalLayout class="sapUiMediumMarginEnd">
                                <ObjectIdentifier text="{i18n>imposta}:" class="sapUiTinyMarginBottom" id="impostaTime"/>
                            </layout:VerticalLayout>
                            <layout:VerticalLayout>
                                <ObjectNumber number="{routingModel>/imposta}" class="sapUiTinyMarginBottom"/>
                            </layout:VerticalLayout>
                        </layout:HorizontalLayout>
                    </layout:VerticalLayout>
                </uxap:heading>
            </uxap:ObjectPageDynamicHeaderTitle>
        </uxap:headerTitle>
        <uxap:sections>
            <uxap:ObjectPageSection titleUppercase="false" title="Section 1" showTitle="false">
                <uxap:subSections>
                    <uxap:ObjectPageSubSection id="1" title="{i18n>credLFY}" titleUppercase="false" >
                        <uxap:blocks>
                            <layout:VerticalLayout>
                                <Table id="idTableCreditoRisultante" inset="false" items="{path:'oModelTableAllegati>/oModelO', sorter: {
                            path: 'createdAt',
                            descending: true
                        }}">
                                    <headerToolbar>
                                        <OverflowToolbar id="toolbarID1">
                                            <ToolbarSpacer/>
                                            <Button id="addCredito" icon="sap-icon://edit" press="onEdit"/>
                                        </OverflowToolbar>
                                    </headerToolbar>
                                    <columns>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="20%">
                                            <Text text="{i18n>descrizione}"/>
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text=""/>
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text=""/>
                                        </Column>
                                        <Column width="10%">
                                            <Text text=""/>
                                        </Column>
                                        <Column width="10%">
                                            <Text text=""/>
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="" />
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>importo}" />
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>note}" />
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>allegato}" />
                                        </Column>
                                    </columns>
                                    <items>
                                        <ColumnListItem vAlign="Middle">
                                            <cells>
                                                <Text text="{oModelTableAllegati>descrizione}"/>
                                                <Text text="{path: 'oModelTableAllegati>data'}"/>
                                                <Text text="{oModelTableAllegati>rata}"/>
                                                <Text text="{oModelTableAllegati>codiceTributo}"/>
                                                <Text text="{oModelTableAllegati>anno}"/>
                                                <Text text="{oModelTableAllegati>ravvedimento}"/>
                                                <Text text="{path: 'oModelTableAllegati>importo', type: 'sap.ui.model.type.Float',
                                                            formatOptions: {
                                                                minFractionDigits: 2,
                                                                maxFractionDigits: 2,
                                                                groupingEnabled: true
                                                            }}"/>
                                                <Text text="{oModelTableAllegati>note}"/>
                                                <Link text="{oModelTableAllegati>fileName}" press="_linkAllegati" wrapping="true"/>
                                            </cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>

                                <Table id="idTableVersamenti" inset="false" items="{path:'oModelTableAllegati>/oModelV', sorter: {
                            path: 'createdAt',
                            descending: true
                        }}" class="sapUiMediumMarginTop">
                                    <headerToolbar>
                                        <OverflowToolbar id="toolbarID">
                                            <Title text="{i18n>versamenti}" level="H2"/>
                                            <ToolbarSpacer/>
                                            <Button id="addVersamento" icon="sap-icon://add" press="onAdd"/>
                                        </OverflowToolbar>
                                    </headerToolbar>
                                    <columns>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="20%">
                                            <Text text="{i18n>descrizione}"/>
                                            <footer>
                                                <Text text="{i18n>totale}"/>
                                            </footer>
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>data}"/>
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>rata}"/>
                                        </Column>
                                        <Column width="10%">
                                            <Text text="{i18n>codiceTributo}"/>
                                        </Column>
                                        <Column width="10%">
                                            <Text text="{i18n>anno}"/>
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>ravvedimento}" />
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>importo}" />
                                            <footer>
                                                <Text text="{path: 'oModelTableTotAllegati>/oModelVTot/Importo', type: 'sap.ui.model.type.Float',
                                                            formatOptions: {
                                                                minFractionDigits: 2,
                                                                maxFractionDigits: 2,
                                                                groupingEnabled: true
                                                            }}"/>
                                            </footer>
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>note}" />
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>allegato}" />
                                        </Column>
                                    </columns>
                                    <items>
                                        <ColumnListItem vAlign="Middle">
                                            <cells>
                                                <Text text="{oModelTableAllegati>descrizione}"/>
                                                <Text text="{path: 'oModelTableAllegati>data'}"/>
                                                <Text text="{oModelTableAllegati>rata}"/>
                                                <Text text="{oModelTableAllegati>codiceTributo}"/>
                                                <Text text="{oModelTableAllegati>anno}"/>
                                                <Text text="{oModelTableAllegati>ravvedimento}"/>
                                                <Text text="{path: 'oModelTableAllegati>importo', type: 'sap.ui.model.type.Float',
                                                            formatOptions: {
                                                                minFractionDigits: 2,
                                                                maxFractionDigits: 2,
                                                                groupingEnabled: true
                                                            }}"/>
                                                <Text text="{oModelTableAllegati>note}"/>
                                                <Link text="{oModelTableAllegati>fileName}" press="_linkAllegati" wrapping="true"/>
                                            </cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>

                                <Table id="idTableCompensazioni" inset="false" items="{path:'oModelTableAllegati>/oModelC', sorter: {
                            path: 'createdAt',
                            descending: true
                        }}" class="sapUiMediumMarginTop">
                                    <headerToolbar>
                                        <OverflowToolbar>
                                            <Title text="{i18n>compensazione}" level="H2"/>
                                            <ToolbarSpacer/>
                                            <Button id="addCompensazione" icon="sap-icon://add" press="onAdd"/>
                                        </OverflowToolbar>
                                    </headerToolbar>
                                    <columns>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="20%">
                                            <Text text="{i18n>descrizione}"/>
                                            <footer>
                                                <Text text="{i18n>totale}"/>
                                            </footer>
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>data}"/>
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>rata}"/>
                                        </Column>
                                        <Column width="10%">
                                            <Text text="{i18n>codiceTributo}"/>
                                        </Column>
                                        <Column width="10%">
                                            <Text text="{i18n>anno}"/>
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>ravvedimento}" />
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>importo}" />
                                            <footer>
                                                <Text text="{path: 'oModelTableTotAllegati>/oModelCTot/Importo', type: 'sap.ui.model.type.Float',
                                                            formatOptions: {
                                                                minFractionDigits: 2,
                                                                maxFractionDigits: 2,
                                                                groupingEnabled: true
                                                            }}"/>
                                            </footer>
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>note}" />
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>allegato}" />
                                        </Column>
                                    </columns>
                                    <items>
                                        <ColumnListItem vAlign="Middle">
                                            <cells>
                                                <Text text="{oModelTableAllegati>descrizione}"/>

                                                <Text text="{path: 'oModelTableAllegati>data'}"/>
                                                <Text text="{oModelTableAllegati>rata}"/>
                                                <Text text="{oModelTableAllegati>codiceTributo}"/>
                                                <Text text="{oModelTableAllegati>anno}"/>
                                                <Text text="{oModelTableAllegati>ravvedimento}"/>
                                                <Text text="{path: 'oModelTableAllegati>importo', type: 'sap.ui.model.type.Float',
                                                            formatOptions: {
                                                                minFractionDigits: 2,
                                                                maxFractionDigits: 2,
                                                                groupingEnabled: true
                                                            }}"/>
                                                <Text text="{oModelTableAllegati>note}"/>
                                                <Link text="{oModelTableAllegati>fileName}" press="_linkAllegati" wrapping="true"/>
                                            </cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>


                                <Table id="idTableAltriMovimenti" inset="false" items="{path:'oModelTableAllegati>/oModelAM'}">
                                    <headerToolbar>
                                        <OverflowToolbar>
                                            <!-- <Title text="{i18n>altriMov}" level="H2"/> -->
                                            <ToolbarSpacer/>
                                            <Button id="addAltroMovimento" icon="sap-icon://edit" press="onEdit"/>
                                        </OverflowToolbar>
                                    </headerToolbar>
                                    <columns>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="20%">
                                            <Text text="{i18n>descrizione}"/>
                                            <footer>
                                                <Text text="{i18n>credRes}"/>
                                            </footer>
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>data}"/>
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>rata}"/>
                                        </Column>
                                        <Column width="10%">
                                            <Text text="{i18n>codiceTributo}"/>
                                        </Column>
                                        <Column width="10%">
                                            <Text text="{i18n>anno}"/>
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>ravvedimento}" />
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>importo}" />
                                            <footer>
                                                <Text text="{path: 'oModelTableTotAllegati>/oModelTotali/creditoDebitoResiduo', type: 'sap.ui.model.type.Float',
                                                            formatOptions: {
                                                                minFractionDigits: 2,
                                                                maxFractionDigits: 2,
                                                                groupingEnabled: true
                                                            }}"/>
                                            </footer>
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>note}" />
                                        </Column>
                                        <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                            <Text text="{i18n>allegato}" />
                                        </Column>
                                    </columns>
                                    <items>
                                        <ColumnListItem vAlign="Middle">
                                            <cells>
                                                <Text text="{oModelTableAllegati>descrizione}"/>

                                                <Text text="{path: 'oModelTableAllegati>data'}"/>
                                                <Text text="{oModelTableAllegati>rata}"/>
                                                <Text text="{oModelTableAllegati>codiceTributo}"/>
                                                <Text text="{oModelTableAllegati>anno}"/>
                                                <Text text="{oModelTableAllegati>ravvedimento}"/>
                                                <Text text="{oModelTableAllegati>importo}"/>
                                                <Text text="{oModelTableAllegati>note}"/>
                                                <Link text="{oModelTableAllegati>fileName}" press="_linkAllegati" wrapping="true"/>
                                            </cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>


                            </layout:VerticalLayout>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                    </uxap:subSections>
                    </uxap:ObjectPageSection >
                    <uxap:ObjectPageSection titleUppercase="false" title="Section 2" showTitle="false">
                     <uxap:subSections>
                    <uxap:ObjectPageSubSection id="2" title="{i18n>accontiV}" titleUppercase="false">
                        <uxap:blocks>
                            <Table id="idTableCompensazione" inset="false" items="{path:'oModelTableAllegati>/oModelA', sorter: {
                            path: 'createdAt',
                            descending: true
                        }}">
                                <headerToolbar>
                                    <OverflowToolbar>
                                        <Title text="{i18n>accontiV}" level="H2"/>
                                        <ToolbarSpacer/>
                                        <Button id="addAcconto" icon="sap-icon://add" press="onAdd"/>
                                    </OverflowToolbar>
                                </headerToolbar>
                                <columns>
                                    <Column minScreenWidth="Tablet" demandPopin="true" width="20%">
                                        <Text text="{i18n>descrizione}"/>
                                        <footer>
                                            <Text text="{i18n>totale}"/>
                                        </footer>
                                    </Column>
                                    <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                        <Text text="{i18n>data}"/>
                                    </Column>
                                    <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                        <Text text="{i18n>rata}"/>
                                    </Column>
                                    <Column width="10%">
                                        <Text text="{i18n>codiceTributo}"/>
                                    </Column>
                                    <Column width="10%">
                                        <Text text="{i18n>anno}"/>
                                    </Column>
                                    <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                        <Text text="{i18n>ravvedimento}" />
                                    </Column>
                                    <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                        <Text text="{i18n>importo}" />
                                        <footer>
                                            <Text text="{path: 'oModelTableTotAllegati>/oModelATot/Importo', type: 'sap.ui.model.type.Float',
                                                            formatOptions: {
                                                                minFractionDigits: 2,
                                                                maxFractionDigits: 2,
                                                                groupingEnabled: true
                                                            }}" />
                                        </footer>
                                    </Column>
                                    <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                        <Text text="{i18n>note}" />
                                    </Column>
                                    <Column minScreenWidth="Tablet" demandPopin="true" width="10%">
                                        <Text text="{i18n>allegato}" />
                                    </Column>
                                </columns>
                                <items>
                                    <ColumnListItem  >
                                        <cells>
                                            <Text text="{oModelTableAllegati>descrizione}"/>
                                            <Text text="{path: 'oModelTableAllegati>data'}"/>
                                            <Text text="{oModelTableAllegati>rata}"/>
                                            <Text text="{oModelTableAllegati>codiceTributo}"/>
                                            <Text text="{oModelTableAllegati>anno}"/>
                                            <Text text="{oModelTableAllegati>ravvedimento}"/>
                                            <Text text="{path: 'oModelTableAllegati>importo', type: 'sap.ui.model.type.Float',
                                                            formatOptions: {
                                                                minFractionDigits: 2,
                                                                maxFractionDigits: 2,
                                                                groupingEnabled: true
                                                            }}" />
                                            <Text text="{oModelTableAllegati>note}"/>
                                            <Link text="{oModelTableAllegati>fileName}" press="_linkAllegati" wrapping="true"/>
                                        </cells>
                                    </ColumnListItem>
                                </items>
                            </Table>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
        </uxap:sections>
    </uxap:ObjectPageLayout>
</mvc:View>