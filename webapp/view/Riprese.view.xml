<mvc:View
    controllerName="tax.provisioning.computations.controller.Riprese"
	xmlns="sap.uxap"
	xmlns:m="sap.m"
	xmlns:f="sap.f"
    xmlns:layout="sap.ui.layout"
	xmlns:form="sap.ui.layout.form"
    xmlns:semantic="sap.f.semantic"
    xmlns:core="sap.ui.core"
	xmlns:mvc="sap.ui.core.mvc">
	<semantic:SemanticPage
		id="ObjectPageLayout"
		headerPinnable="true" 
        toggleHeaderOnTitleClick="true" 
        preserveHeaderStateOnScroll="false" 
        titleAreaShrinkRatio="1:1.6:1.6"
        showFooter="false">
         <!-- <semantic:titleContent>
            <m:Button id="editAction" press="onNavBack" type="Transparent"	icon="sap-icon://nav-back"/>
		</semantic:titleContent> -->
        <semantic:headerContent>
        <layout:VerticalLayout class="sapUiMediumMarginEnd">
            <layout:HorizontalLayout class="sapUiSmallMarginTop" allowWrapping="true">
            <layout:VerticalLayout class="sapUiMediumMarginEnd">
                   <m:ObjectIdentifier  text="{i18n>CodiceRipresa}: " class="sapUiTinyMarginBottom" />
                    <m:ObjectIdentifier text="{i18n>DescrizioneRipresa}: "  class="sapUiTinyMarginBottom"/>
                    <m:ObjectIdentifier text="{i18n>RiferimentiNormativi}: " class="sapUiTinyMarginBottom"/>
                     <m:ObjectIdentifier text="{i18n>RiferimentoDichiarazione}: " class="sapUiTinyMarginBottom" />
                    <m:ObjectIdentifier  text="{i18n>imposta}: "  class="sapUiTinyMarginBottom"/>
                    <m:ObjectIdentifier text="{i18n>algoritmo}: " class="sapUiTinyMarginBottom"/>
                   
            </layout:VerticalLayout>
          <layout:VerticalLayout>
         
              <m:ObjectNumber number="{oModelAnagraficaSingola>/oModelRipresa/codiceRipresa}" class="sapUiTinyMarginBottom"/>
              <m:ObjectNumber  number="{oModelAnagraficaSingola>/oModelRipresa/descrizioneRipresa}" class="sapUiTinyMarginBottom"/>
              <m:ObjectNumber  number="{oModelAnagraficaSingola>/oModelRipresa/riferimentoNormativo}" class="sapUiTinyMarginBottom" />
                <m:ObjectNumber number="{oModelAnagraficaSingola>/oModelRipresa/riferimentoDichiarazione}"  class="sapUiTinyMarginBottom"/>
              <m:ObjectNumber  number="{oModelAnagraficaSingola>/oModelTestata/imposta}" class="sapUiTinyMarginBottom"/>
              <m:ObjectNumber  number="{oModelAnagraficaSingola>/oModelTestata/algoritmo}" class="sapUiTinyMarginBottom" />
              
            </layout:VerticalLayout>
            </layout:HorizontalLayout>
            <layout:HorizontalLayout class="sapUiSmallMarginTop" allowWrapping="true">
            <layout:VerticalLayout class="sapUiMediumMarginEnd">
                <m:ObjectIdentifier  text="{i18n>PercentualeStandard}: " class="sapUiTinyMarginBottom" />
                <m:ObjectIdentifier text="{i18n>TotaleCostiSelezionati}:" class="sapUiTinyMarginBottom"/>
                <m:ObjectIdentifier text="{i18n>TotaleRipresa}: " class="sapUiTinyMarginBottom"/>
                <m:ObjectIdentifier text="{i18n>TotaleRipresaAutomatica}:" class="sapUiTinyMarginBottom"/>
                <m:ObjectIdentifier text="{i18n>TotaleRipresaManuale}: " class="sapUiTinyMarginBottom"/>
                   
            </layout:VerticalLayout>
          <layout:VerticalLayout>
         
              <m:ObjectNumber number="{oModelAnagraficaSingola>/oModelTestata/percentuale}" class="sapUiTinyMarginBottom"/>
              <m:ObjectNumber  number="{path: 'oModelTotali>/oModelTot/TotaleCY', type: 'sap.ui.model.type.Float', formatOptions: {
                                                    minFractionDigits: 2,
                                                    maxFractionDigits: 2,
                                                    groupingEnabled: true
                                                }}" class="sapUiTinyMarginBottom"/>
              <m:ObjectNumber  number="{path: 'oModelTotali>/oModelTot/totaleRipresa',type: 'sap.ui.model.type.Float', formatOptions: {
                                                    minFractionDigits: 2,
                                                    maxFractionDigits: 2,
                                                    groupingEnabled: true
                                                }}" class="sapUiTinyMarginBottom" />
              
            </layout:VerticalLayout>
          </layout:HorizontalLayout>
          </layout:VerticalLayout>
		 </semantic:headerContent>

         <semantic:content>
                            <m:Table
								id="percentualeTable"
                                inset="false"
                                class="sapFSemanticPageAlignContent" 
                                autoPopinMode="false"
								items="{path : 'oModelAnagraficaSingola>/oModel1'}">
								<m:columns>
									<m:Column>
                                        <m:Text text="{i18n>codiceGL}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{i18n>descrizioneGL}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{i18n>classificazione}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{i18n>importoLY}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{i18n>importoCY}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{i18n>percentuale}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{i18n>ripresaAuto}" />
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{i18n>ripresaManuale}"/>
                                    </m:Column>
                                     <!-- <m:Column>
                                        <m:Text text="{i18n>drill}"/>
                                    </m:Column> -->
                                     <m:Column>
                                        <m:Text text="{i18n>TotaleRipresa}"/>
                                    </m:Column>
								</m:columns>
								<m:items>
									<m:ColumnListItem type="Navigation" press="handleItemPress">
										<m:cells>
											<m:Text text="{oModelAnagraficaSingola>bilancio_codiceGL}" />
                                            <m:Text text="{oModelAnagraficaSingola>descrizioneGL}" />
                                            <m:Text text="{oModelAnagraficaSingola>classificazione}" />
                                            <m:Text text="{path: 'oModelAnagraficaSingola>importoLY', type: 'sap.ui.model.type.Float', formatOptions: {
                                                    minFractionDigits: 2,
                                                    maxFractionDigits: 2,
                                                    groupingEnabled: true
                                                }}" />
                                            <!-- <m:Text text="{oModelAnagraficaSingola>importoCY}" /> -->
                                             <!-- <template> -->
                                            <m:Link text="{path: 'oModelAnagraficaSingola>importoCY', type: 'sap.ui.model.type.Float', formatOptions: {
                                                    minFractionDigits: 2,
                                                    maxFractionDigits: 2,
                                                    groupingEnabled: true
                                                }}" press="handleActionPress"/>
                                            <!-- </template> -->
                                            <m:Text text="{oModelAnagraficaSingola>percentuale}" />
                                            <m:Text text="{=${oModelAnagraficaSingola>importoCY}*${oModelAnagraficaSingola>percentuale}/100}" />
                                            <m:Text text="{path: 'oModelAnagraficaSingola>ripresaManuale', type: 'sap.ui.model.type.Float', formatOptions: {
                                                    minFractionDigits: 2,
                                                    maxFractionDigits: 2,
                                                    groupingEnabled: true
                                                }}" />
                                            <!-- <m:Text text="{oModelAnagraficaSingola>drill}" /> -->
                                            <m:Text text="{=${oModelAnagraficaSingola>percentuale} ? ${oModelAnagraficaSingola>importoCY}*${oModelAnagraficaSingola>percentuale}/100 + ${oModelAnagraficaSingola>ripresaManuale} + ${oModelAnagraficaSingola>drill} : ${oModelAnagraficaSingola>ripresaManuale}}" />
										</m:cells>
									</m:ColumnListItem>
								</m:items>
							</m:Table>
		</semantic:content>
	</semantic:SemanticPage>
</mvc:View>