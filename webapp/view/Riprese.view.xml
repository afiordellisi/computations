<mvc:View
    controllerName="tax.provisioning.computations.controller.Riprese"
	xmlns="sap.uxap"
	xmlns:m="sap.m"
	xmlns:f="sap.f"
	xmlns:form="sap.ui.layout.form"
    xmlns:semantic="sap.f.semantic"
    xmlns:core="sap.ui.core"
	xmlns:mvc="sap.ui.core.mvc">
	<semantic:SemanticPage
		id="ObjectPageLayout"
		headerPinnable="true" 
        toggleHeaderOnTitleClick="true" 
        preserveHeaderStateOnScroll="false" 
        titleAreaShrinkRatio="1:1.6:1.6"
        showFooter="false">
         <semantic:titleContent>
            <m:Button id="editAction" press="onNavBack" type="Transparent"	icon="sap-icon://nav-back"/>
		</semantic:titleContent>
        <semantic:headerContent>
            
			<m:FlexBox wrap="Wrap" fitContainer="true" alignItems="Stretch">
				<m:HBox class="sapUiMediumMarginTop">
                    <m:VBox class="sapUiSmallMarginBottom" renderType="Bare">
                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                            <m:Label text="{i18n>CodiceRipresa}: " class="sapUiMediumMarginEnd"/>
                        </m:HBox>
                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                            <m:Label text="{i18n>DescrizioneRipresa}: " class="sapUiMediumMarginEnd"/>
                        </m:HBox>
                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                            <m:Label text="{i18n>RiferimentiNormativi}: " class="sapUiMediumMarginEnd"/>
                        </m:HBox>
                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                            <m:Label text="{i18n>RiferimentoDichiarazione}: " class="sapUiMediumMarginEnd"/>
                        </m:HBox>
                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                            <m:Label text="{i18n>imposta}: " class="sapUiMediumMarginEnd"/>
                        </m:HBox>
                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                            <m:Label text="{i18n>algoritmo}: " class="sapUiMediumMarginEnd"/>
                        </m:HBox>
                    </m:VBox>
                    <m:VBox class="sapUiSmallMarginBottom" renderType="Bare">
                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                            <m:Text text="{oModelAnagraficaSingola>/oModelRipresa/ID}" class="sapUiMediumMarginEnd"/>
                        </m:HBox>
                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                            <m:Text text="{oModelAnagraficaSingola>/oModelRipresa/descrizioneRipresa}" class="sapUiMediumMarginEnd"/>
                        </m:HBox>
                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                            <m:Text text="{oModelAnagraficaSingola>/oModelRipresa/riferimentoNormativo}" class="sapUiMediumMarginEnd"/>
                        </m:HBox>
                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                            <m:Text text="{oModelAnagraficaSingola>/oModelRipresa/riferimentoDichiarazione}" class="sapUiMediumMarginEnd"/>
                        </m:HBox>
                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                            <m:Text text="{oModelAnagraficaSingola>/oModelTestata/imposta}" class="sapUiMediumMarginEnd"/>
                        </m:HBox>
                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                             <m:Text text="{oModelAnagraficaSingola>/oModelTestata/algoritmo}" class="sapUiMediumMarginEnd"/>
                        </m:HBox>
                    </m:VBox>
                </m:HBox>
			</m:FlexBox>
            <m:FlexBox wrap="Wrap" fitContainer="true" alignItems="Stretch">
                                <m:HBox class="sapUiMediumMarginTop">
                                    <m:VBox class="sapUiSmallMarginBottom" renderType="Bare">
                                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                                            <m:Label text="{i18n>PercentualeStandard}: " class="sapUiMediumMarginEnd"/>
                                        </m:HBox>
                                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                                            <m:Label text="{i18n>TotaleCostiSelezionati}: " class="sapUiMediumMarginEnd"/>
                                        </m:HBox>
                                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                                            <m:Label text="{i18n>TotaleRipresa}: " class="sapUiMediumMarginEnd"/>
                                        </m:HBox>
                                    </m:VBox>
                                    <m:VBox class="sapUiSmallMarginBottom" renderType="Bare">
                                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                                            <m:Text text="{oModelAnagraficaSingola>/oModelTestata/percentuale}%" class="sapUiMediumMarginEnd"/>
                                        </m:HBox>
                                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                                            <m:Text text="{oModelTotali>/oModelTot/0/TotaleCY}" class="sapUiMediumMarginEnd"/>
                                        </m:HBox>
                                        <m:HBox class="sapUiTinyMarginBottom" renderType="Bare">
                                            <m:Text text="{oModelTotali>/oModelTot/0/TotaleRipresa}" class="sapUiMediumMarginEnd"/>
                                        </m:HBox>
                                    </m:VBox>
                                </m:HBox>
                            </m:FlexBox>	
		 </semantic:headerContent>

         <semantic:content>
                            <m:Table
								id="percentualeTable"
                                inset="false"
                                class="sapFSemanticPageAlignContent" 
                                autoPopinMode="false"
								items="{path : 'oModelAnagraficaSingola>/oModel1'}">
								<m:columns>
									<m:Column>
                                        <m:Text text="{i18n>codiceGL}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{i18n>descrizioneGL}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{i18n>classificazione}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{i18n>importoLY}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{i18n>importoCY}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{i18n>percentuale}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{i18n>ripresaAuto}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{i18n>ripresaManuale}"/>
                                    </m:Column>
                                     <m:Column>
                                        <m:Text text="{i18n>drill}"/>
                                    </m:Column>
                                     <m:Column>
                                        <m:Text text="{i18n>TotaleRipresa}"/>
                                    </m:Column>
								</m:columns>
								<m:items>
									<m:ColumnListItem type="Navigation" press="handleItemPress">
										<m:cells>
											<m:Text text="{oModelAnagraficaSingola>bilancio_codiceGL}" />
                                            <m:Text text="{oModelAnagraficaSingola>descrizioneGL}" />
                                            <m:Text text="{oModelAnagraficaSingola>classificazione}" />
                                            <m:Text text="{oModelAnagraficaSingola>importoLY}" />
                                            <m:Text text="{oModelAnagraficaSingola>importoCY}" />
                                            <m:Text text="{oModelAnagraficaSingola>percentuale}" />
                                            <m:Text text="{=${oModelAnagraficaSingola>importoCY}*${oModelAnagraficaSingola>percentuale}/100}" />
                                            <m:Text text="{oModelAnagraficaSingola>ripresaManuale}" />
                                            <m:Text text="{oModelAnagraficaSingola>drill}" />
                                            <m:Text text="{=${oModelAnagraficaSingola>importoCY}*${oModelAnagraficaSingola>percentuale}/100 + ${oModelAnagraficaSingola>ripresaManuale} + ${oModelAnagraficaSingola>drill} }" />
										</m:cells>
									</m:ColumnListItem>
								</m:items>
							</m:Table>
		</semantic:content>
	</semantic:SemanticPage>
</mvc:View>